!function(){function o(n,e,r){function a(i,l){if(!e[i]){if(!n[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(c)return c(i,!0);var t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t}var u=e[i]={exports:{}};n[i][0].call(u.exports,function(o){var e=n[i][1][o];return a(e||o)},u,u.exports,o,n,e,r)}return e[i].exports}for(var c="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}return o}()({1:[function(o,n,e){"use strict";angular.module("combinaValores",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.utils.masks"]).config(["$routeProvider",function(o){o.when("/",{templateUrl:"main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}])},{}],2:[function(o,n,e){"use strict";angular.module("combinaValores").controller("MainCtrl",["$scope",function(o){o.init=function(){o.showOutputJSON=!1,o.showInputJSON=!1,o.jsonInputError=!1,o.running=!1,o.done=!1,o.valores=[],o.model={cheque:null},o.clearResults(),$("#novo-valor").on("keypress",function(n){13===n.keyCode&&(n.stopPropagation(),o.addValor())})},o.toggleInputJSON=function(){o.showInputJSON=!o.showInputJSON},o.loadJSON=function(){var n={};o.jsonInputError=!1;try{n=JSON.parse(o.inputJSON)}catch(e){return console.warn("JSON inválido!"),void(o.jsonInputError="Formato inválido de JSON.")}n.valores&&(o.valores=n.valores),n.valor&&(o.valor=n.valor),o.toggleInputJSON()},o.toggleOutputJSON=function(){o.showOutputJSON=!o.showOutputJSON},o.removeAllValores=function(){window.confirm("Apagar todos os valores digitados. Deseja continuar?")&&(o.clearResults(),o.valores=[])},o.clearResults=function(){o.done=!1,o.menorTroco=null,o.menorTrocoComMaisValores=null,o.menorTrocoComMenosValores=null,o.menorDiferenca=null,o.menorDiferencaMaisValores=null,o.menorDiferencaMenosValores=null,o.combinacaoMenorTroco=null,o.combinacaoMenorTrocoMaisValores=null,o.combinacaoMenorTrocoMenosValores=null,o.combinacaoMenorDiferenca=null,o.combinacaoMenorDiferencaMaisValores=null,o.combinacaoMenorDiferencaMenosValores=null},o.addValor=function(){o.model.valor>=0&&(o.valores.push(Number(o.model.valor)),o.model.valor=null)},o.removeValor=function(n){o.valores=_.reduce(o.valores,function(o,e,r){return r!==n&&o.push(e),o},[])},o.execute=function(){if(!o.running){o.running=!0,o.clearResults();var n=o.valores,e=o.valores.length;o.cp=Math.pow(2,e);var r=[],a=[],c=1,i=0,l=o.valor,s=o.valor/2,t=o.valor/2,u=0,m=0,M=0;for(o.menorTroco=_.sum(n)-l,o.menorTrocoComMaisValores=_.sum(n)-l,o.menorTrocoComMenosValores=_.sum(n)-l,o.menorDiferenca=l,o.menorDiferencaMaisValores=l,o.menorDiferencaMenosValores=l,o.combinacaoMenorTroco=[],o.combinacaoMenorTrocoMaisValores=[],o.combinacaoMenorTrocoMenosValores=_.times(e,_.constant(0)),o.combinacaoMenorDiferenca=[],o.combinacaoMenorDiferencaMaisValores=[],o.combinacaoMenorDiferencaMenosValores=_.times(e,_.constant(0));c<o.cp;){for(a=[],r=_.map(_.padStart(Number(c).toString(2),e,"0").split(""),Number),i=0;i<e;i++)r[i]&&a.push(n[i]);u=_.sum(a),u===l?(o.menorDiferenca=0,o.combinacaoMenorDiferenca=[].concat(a),o.menorTroco=0,o.combinacaoMenorTroco=[].concat(a)):u<l?(m=l-u,m<=o.menorDiferenca&&(o.menorDiferenca=m,o.combinacaoMenorDiferenca=[].concat(a)),a.length<o.combinacaoMenorDiferenca.length&&m<o.menorDiferencaComMenosValores&&m<=t&&(o.menorDiferencaComMenosValores=m,o.combinacaoMenorDiferencaMenosValores=[].concat(a)),a.length>o.combinacaoMenorDiferencaMaisValores.length&&m<o.menorDiferencaComMaisValores&&m<=t&&(o.menorDiferencaComMaisValores=m,o.combinacaoMenorDiferencaMaisValores=[].concat(a))):(u-l<o.menorTroco&&(M=u-l,o.menorTroco=M,o.combinacaoMenorTroco=[].concat(a)),a.length<o.combinacaoMenorTrocoMenosValores.length&&M<o.menorTrocoComMenosValores&&M<=s&&(o.menorTrocoComMenosValores=M,o.combinacaoMenorTrocoMenosValores=[].concat(a)),a.length>o.combinacaoMenorTrocoMaisValores.length&&M<o.menorTrocoComMaisValores&&M<=s&&(o.menorTrocoComMaisValores=M,o.combinacaoMenorTrocoMaisValores=[].concat(a))),c++}0===_.sum(o.combinacaoMenorTrocoMenosValores)&&(o.combinacaoMenorTrocoMenosValores=[]),0===_.sum(o.combinacaoMenorTrocoMaisValores)&&(o.combinacaoMenorTrocoMaisValores=[]),0===_.sum(o.combinacaoMenorDiferencaMenosValores)&&(o.combinacaoMenorDiferencaMenosValores=[]),0===_.sum(o.combinacaoMenorDiferencaMaisValores)&&(o.combinacaoMenorDiferencaMaisValores=[]),o.running=!1,o.done=!0}},o.init(),o.$watch("valores",function(n){n&&(o.clearResults(),o.cp=Math.pow(2,o.valores.length),o.outputJSON={valores:o.valores,valor:o.valor})},!0),o.$watch("valor",function(n){n&&(o.outputJSON={valores:o.valores,valor:o.valor})})}])},{}],3:[function(o,n,e){"use strict";angular.module("combinaValores").directive("onEnter",function(){return function(o,n,e){n.bind("keypress",function(n){13===n.which&&(o.$apply(function(){o.$eval(e.myEnter)}),n.preventDefault())})}})},{}]},{},[1,2,3]);